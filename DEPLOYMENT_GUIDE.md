# Руководство по развертыванию на Supabase

## Шаг 1: Подготовка Supabase проекта

1. **Создайте новый проект в Supabase**:
   - Перейдите на https://supabase.com
   - Создайте новый проект
   - Запишите URL проекта и anon ключ

2. **Примените миграции базы данных**:
   ```sql
   -- Выполните содержимое файла:
   -- supabase/migrations/20251001000000_complete_schema_update.sql
   -- в SQL Editor вашего Supabase проекта
   ```

## Шаг 2: Настройка переменных окружения

1. **Обновите `.env.local`** с данными вашего Supabase проекта:
   ```env
   VITE_SUPABASE_URL=your_supabase_project_url
   VITE_SUPABASE_ANON_KEY=your_supabase_anon_key
   SUPABASE_SERVICE_ROLE_KEY=your_service_role_key
   ADMIN_EMAIL=your_admin_email
   ADMIN_PASSWORD=your_admin_password
   ```

## Шаг 3: Развертывание на Vercel

1. **Подключите GitHub репозиторий к Vercel**:
   - Перейдите на https://vercel.com
   - Импортируйте репозиторий из GitHub
   - Vercel автоматически обнаружит настройки из `vercel.json`

2. **Настройте переменные окружения в Vercel**:
   - В настройках проекта добавьте все переменные из `.env.local`
   - Убедитесь что используете VITE_ префикс для клиентских переменных

3. **Запустите развертывание**:
   - Vercel автоматически запустит `npm run build`
   - После успешной сборки сайт будет доступен

## Шаг 4: Проверка развертывания

1. **Проверьте основные функции**:
   - ✅ Главная страница загружается
   - ✅ Кнопки Dikidi работают
   - ✅ Страницы услуг доступны
   - ✅ Страницы оборудования без кнопок Dikidi

2. **Проверьте админ панель**:
   - ✅ Логин в админку: `/admin/login`
   - ✅ Управление заявками с сортировкой по событиям
   - ✅ Управление клиентами для всех 5 пользователей
   - ✅ Русскоязычный интерфейс

3. **Тест учетных записей**:
   ```
   admin@beauty.com / Admin2024!
   anna@beauty.com / Anna2024!
   natalia@beauty.com / Natalia2024!
   yulia@beauty.com / Yulia2024!
   lera@beauty.com / Lera2024!
   liudmila@beauty.com / Liudmila2024!
   ```

## Шаг 5: Настройка данных

1. **Добавьте события через админку**
2. **Настройте цены для каждой категории**
3. **Проверьте формы регистрации на DEKA страницах**

## Структура проекта

- `src/pages/` - Все страницы сайта
- `src/components/admin/` - Компоненты админ панели
- `src/services/` - Сервисы для работы с API
- `src/utils/` - Утилиты, включая клиентские API
- `supabase/migrations/` - Миграции базы данных

## Технические детали

- **Frontend**: React + TypeScript + Vite
- **Styling**: Tailwind CSS + shadcn/ui
- **Backend**: Supabase (PostgreSQL)
- **Hosting**: Vercel
- **Бронирование**: Dikidi integration

## Функциональность

✅ **Реализовано**:
- Многопользовательская админ система (5 пользователей)
- Русскоязычный интерфейс админки
- Управление клиентами с уровнем прогрева
- Сортировка заявок по дате мероприятий
- Интеграция с Dikidi на страницах услуг
- Отсутствие Dikidi на страницах оборудования
- Форм-система с автоматическим роутингом по владельцам

✅ **Пользователи системы**:
- Юлия (yulia@beauty.com)
- Наталья (natalia@beauty.com)
- Анна (anna@beauty.com)
- Лера (lera@beauty.com)
- Людмила (liudmila@beauty.com)
- Админ (admin@beauty.com)

## Поддержка

Для технической поддержки или вопросов по развертыванию обращайтесь к документации или создавайте issue в репозитории.